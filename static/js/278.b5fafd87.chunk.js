"use strict";(self.webpackChunkgoit_react_hw_05_movie=self.webpackChunkgoit_react_hw_05_movie||[]).push([[278],{1656:function(t,e,n){var r=n(5861),c=n(4687),a=n.n(c),u=n(2388),i={API:{KEY:"2c56ca605d93fc994eb0f57dccfe3295",URL:"https://api.themoviedb.org"},getMovieList:function(){var t=(0,r.Z)(a().mark((function t(){var e,n,r,c,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.API,n=e.KEY,r=e.URL,c="".concat(r,"/3/trending/movie/day?api_key=").concat(n),t.next=4,u.Z.get(c);case 4:return i=t.sent,t.abrupt("return",i.data.results);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getMovie:function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,c,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.API,r=n.KEY,c=n.URL,i="".concat(c,"/3/movie/").concat(e,"?api_key=").concat(r),t.next=4,u.Z.get(i);case 4:return o=t.sent,t.abrupt("return",o.data);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),getActors:function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,c,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.API,r=n.KEY,c=n.URL,i="".concat(c,"/3/movie/").concat(e,"/credits?api_key=").concat(r),t.next=4,u.Z.get(i);case 4:return o=t.sent,t.abrupt("return",o.data.cast);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),getReview:function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,c,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.API,r=n.KEY,c=n.URL,i="".concat(c,"/3/movie/").concat(e,"/reviews?api_key=").concat(r),t.next=4,u.Z.get(i);case 4:return o=t.sent,t.abrupt("return",o.data.results);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),searchMovie:function(t){var e=this.API,n=e.KEY,r=e.URL,c="".concat(r,"/3/search/movie/?api_key=").concat(n,"&query=").concat(t);return fetch(c).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()}))}};e.Z=i},8125:function(t,e,n){n.d(e,{$:function(){return o},r:function(){return s}});var r,c,a=n(168),u=n(1087),i=n(7691),o=i.ZP.section(r||(r=(0,a.Z)(["\npadding: 50px;\n"]))),s=(0,i.ZP)(u.OL)(c||(c=(0,a.Z)(["\ndisplay: flex;\nflex-direction: column;\npadding: 5px;\n"])))},9278:function(t,e,n){n.r(e);var r=n(5861),c=n(9439),a=n(4687),u=n.n(a),i=n(2791),o=n(1087),s=n(7689),f=n(8125),p=n(1656),v=n(184);e.default=function(){var t,e=(0,i.useState)(""),n=(0,c.Z)(e,2),a=n[0],h=n[1],l=(0,o.lr)(),d=(0,c.Z)(l,2),m=d[0],x=d[1],y=(0,s.TH)(),g=null!==(t=m.get("query"))&&void 0!==t?t:"";(0,i.useEffect)((function(){if(""!==g)try{var t=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Z.searchMovie(g);case 2:e=t.sent,h(e.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}catch(e){console.log(e)}}),[g]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.elements.query.value;x({query:e})},autoComplete:"off",children:[(0,v.jsx)("input",{name:"query",defaultValue:g}),(0,v.jsx)("button",{type:"submit",children:"search"})]}),a&&(0,v.jsx)("ul",{children:a.map((function(t){return(0,v.jsx)(f.r,{to:"/movies/".concat(t.id),state:{from:y},children:t.title},t.id)}))})]})}}}]);
//# sourceMappingURL=278.b5fafd87.chunk.js.map